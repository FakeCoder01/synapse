# synapse_interfaces/GetPersonByFace.srv
# Queries the cognitive memory to identify the closest-matching known person given a face encoding.
# The service may return the best match and (optionally) a list of top-k candidate matches with confidences.
#
# Typical usage:
# - Input: face_encoding (128-d embedding from dlib/face_recognition or similar)
# - Optional parameters:
#   - tolerance: maximum distance or minimum similarity threshold used for matching
#   - k: number of candidate matches to return (for debugging/inspection)
#   - encoding_model: identifier of the embedding model (e.g., "dlib_128", "arcface_512")
#
# Notes:
# - match_confidence is a normalized score in [0.0, 1.0] where higher is better.
# - Implementations can map distance metrics (e.g., euclidean, cosine) to confidence.
# - If success=false, message will contain an explanation (e.g., "no match above threshold").
#
# Response:
# - success: true if a best match was found above the provided tolerance (or default).
# - person_id/name: the resolved identity of the best match.
# - match_confidence: confidence score for the best match [0..1].
# - candidate_* arrays: optional ranked list of top-k candidates (same length for all three arrays).
# - message: additional info or error description.

# Request
float32[] face_encoding
float32 tolerance
uint32 k
string encoding_model
---
# Response
bool success
string person_id
string name
float32 match_confidence
string[] candidate_person_ids
string[] candidate_names
float32[] candidate_confidences
string message
